<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel de Saúde dos FIIs</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; }
    header { background:#1f2933; color:#fff; padding:20px; text-align:center; }
    table { width:95%; margin:20px auto; border-collapse:collapse; background:#fff; }
    th, td { padding:10px; border-bottom:1px solid #ddd; text-align:center; }
    th { background:#111827; color:#fff; }
    input { width:80px; padding:4px; text-align:center; }
    .good { color:green; font-weight:bold; }
    .alert { color:#c2410c; font-weight:bold; }
    .total { font-weight:bold; background:#f1f5f9; }
  </style>
</head>
<body><header>
  <h1>Painel de Saúde da Carteira de FIIs</h1>
  <p>Dividendos passados, estimados e projeções</p>
</header><table>
  <thead>
    <tr>
      <th>FII</th>
      <th>Cotas</th>
      <th>Div. Mês Anterior (R$)</th>
      <th>Prev. Mês Atual (R$)</th>
      <th>Prev. Próx. Mês (R$)</th>
      <th>Saúde</th>
    </tr>
  </thead>
  <tbody id="table-body"></tbody>
  <tfoot>
    <tr class="total">
      <td>Total</td>
      <td>-</td>
      <td id="totalPrev">R$ 0,00</td>
      <td id="totalAtual">R$ 0,00</td>
      <td id="totalProx">R$ 0,00</td>
      <td>-</td>
    </tr>
  </tfoot>
</table><script>
const fiis = [
  { code: 'KNCA11', last: 1.10, current: 1.05, next: 1.05, health: 'Boa' },
  { code: 'KNCS11', last: 1.05, current: 1.00, next: 1.00, health: 'Boa' },
  { code: 'KNCR11', last: 1.02, current: 1.00, next: 1.00, health: 'Excelente' },
  { code: 'HGLG11', last: 1.10, current: 1.05, next: 1.05, health: 'Excelente' },
  { code: 'MXRF11', last: 0.10, current: 0.10, next: 0.10, health: 'Boa' },
  { code: 'XPML11', last: 0.90, current: 0.88, next: 0.88, health: 'Boa' },
  { code: 'RBRR11', last: 0.95, current: 0.92, next: 0.92, health: 'Boa' }
];

const tbody = document.getElementById('table-body');

function render() {
  tbody.innerHTML = '';
  let tLast=0, tCur=0, tNext=0;

  fiis.forEach((fii, i) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${fii.code}</td>
      <td><input type="number" min="0" value="0" onchange="update(${i}, this.value)"></td>
      <td id="last-${i}">R$ 0,00</td>
      <td id="cur-${i}">R$ 0,00</td>
      <td id="next-${i}">R$ 0,00</td>
      <td class="good">${fii.health}</td>
    `;
    tbody.appendChild(tr);
  });
}

function update(index, qty) {
  qty = Number(qty);
  const fii = fiis[index];

  const last = qty * fii.last;
  const cur = qty * fii.current;
  const next = qty * fii.next;

  document.getElementById(`last-${index}`).innerText = `R$ ${last.toFixed(2)}`;
  document.getElementById(`cur-${index}`).innerText = `R$ ${cur.toFixed(2)}`;
  document.getElementById(`next-${index}`).innerText = `R$ ${next.toFixed(2)}`;

  let tLast=0, tCur=0, tNext=0;
  fiis.forEach((f, i) => {
    const q = document.querySelectorAll('input')[i].value;
    tLast += q * f.last;
    tCur += q * f.current;
    tNext += q * f.next;
  });

  document.getElementById('totalPrev').innerText = `R$ ${tLast.toFixed(2)}`;
  document.getElementById('totalAtual').innerText = `R$ ${tCur.toFixed(2)}`;
  document.getElementById('totalProx').innerText = `R$ ${tNext.toFixed(2)}`;
}

render();
</script></body>
</html>
